-- Table: Products

-- DROP TABLE Products;

CREATE TABLE Products
(
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  Description character(50) NOT NULL,
  ItemLookupCode bigint NOT NULL,
  Price integer NOT NULL,
  ItemType integer, -- 0 = Normal, 1 = Serialized, 2 = Matrix; others can be ignored
  Cost integer,
  Quantity integer,
  ReorderPoint integer,
  RestockLevel integer,
  ParentItem bigint,
  ExtendedDescription text,
  Inactive boolean DEFAULT false,
  MSRP integer,
  DateCreated timestamp(0) without time zone DEFAULT now(),
  CONSTRAINT products_pkey PRIMARY KEY (id),
  CONSTRAINT products_parentitem_fkey FOREIGN KEY (ParentItem)
      REFERENCES Products (ItemLookupCode) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT products_itemlookupcode_key UNIQUE (ItemLookupCode),
  CONSTRAINT products_cost_check CHECK (Cost > (-1)),
  CONSTRAINT products_msrp_check CHECK (MSRP > (-1)),
  CONSTRAINT products_quantity_check CHECK (Quantity > (-1)),
  CONSTRAINT products_reorderpoint_check CHECK (ReorderPoint > (-1)),
  CONSTRAINT products_restocklevel_check CHECK (RestockLevel > (-1))
)
WITH (
  OIDS=FALSE
);
ALTER TABLE Products
  OWNER TO postgres; -- Change postgres to preferred owner_name.
